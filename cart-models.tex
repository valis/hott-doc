\documentclass[reqno]{amsart}

\usepackage{amssymb}
\usepackage{hyperref}
\usepackage{mathtools}
\usepackage[all]{xy}
\usepackage{ifthen}
\usepackage{xargs}
\usepackage{bussproofs}
\usepackage{verbatim}
\usepackage{turnstile}

\hypersetup{colorlinks=true,linkcolor=blue}

\renewcommand{\turnstile}[6][s]
    {\ifthenelse{\equal{#1}{d}}
        {\sbox{\first}{$\displaystyle{#4}$}
        \sbox{\second}{$\displaystyle{#5}$}}{}
    \ifthenelse{\equal{#1}{t}}
        {\sbox{\first}{$\textstyle{#4}$}
        \sbox{\second}{$\textstyle{#5}$}}{}
    \ifthenelse{\equal{#1}{s}}
        {\sbox{\first}{$\scriptstyle{#4}$}
        \sbox{\second}{$\scriptstyle{#5}$}}{}
    \ifthenelse{\equal{#1}{ss}}
        {\sbox{\first}{$\scriptscriptstyle{#4}$}
        \sbox{\second}{$\scriptscriptstyle{#5}$}}{}
    \setlength{\dashthickness}{0.111ex}
    \setlength{\ddashthickness}{0.35ex}
    \setlength{\leasturnstilewidth}{2em}
    \setlength{\extrawidth}{0.2em}
    \ifthenelse{%
      \equal{#3}{n}}{\setlength{\tinyverdistance}{0ex}}{}
    \ifthenelse{%
      \equal{#3}{s}}{\setlength{\tinyverdistance}{0.5\dashthickness}}{}
    \ifthenelse{%
      \equal{#3}{d}}{\setlength{\tinyverdistance}{0.5\ddashthickness}
        \addtolength{\tinyverdistance}{\dashthickness}}{}
    \ifthenelse{%
      \equal{#3}{t}}{\setlength{\tinyverdistance}{1.5\dashthickness}
        \addtolength{\tinyverdistance}{\ddashthickness}}{}
        \setlength{\verdistance}{0.4ex}
        \settoheight{\lengthvar}{\usebox{\first}}
        \setlength{\raisedown}{-\lengthvar}
        \addtolength{\raisedown}{-\tinyverdistance}
        \addtolength{\raisedown}{-\verdistance}
        \settodepth{\raiseup}{\usebox{\second}}
        \addtolength{\raiseup}{\tinyverdistance}
        \addtolength{\raiseup}{\verdistance}
        \setlength{\lift}{0.8ex}
        \settowidth{\firstwidth}{\usebox{\first}}
        \settowidth{\secondwidth}{\usebox{\second}}
        \ifthenelse{\lengthtest{\firstwidth = 0ex}
            \and
            \lengthtest{\secondwidth = 0ex}}
                {\setlength{\turnstilewidth}{\leasturnstilewidth}}
                {\setlength{\turnstilewidth}{2\extrawidth}
        \ifthenelse{\lengthtest{\firstwidth < \secondwidth}}
            {\addtolength{\turnstilewidth}{\secondwidth}}
            {\addtolength{\turnstilewidth}{\firstwidth}}}
        \ifthenelse{\lengthtest{\turnstilewidth < \leasturnstilewidth}}{\setlength{\turnstilewidth}{\leasturnstilewidth}}{}
    \setlength{\turnstileheight}{1.5ex}
    \sbox{\turnstilebox}
    {\raisebox{\lift}{\ensuremath{
        \makever{#2}{\dashthickness}{\turnstileheight}{\ddashthickness}
        \makehor{#3}{\dashthickness}{\turnstilewidth}{\ddashthickness}
        \hspace{-\turnstilewidth}
        \raisebox{\raisedown}
        {\makebox[\turnstilewidth]{\usebox{\first}}}
            \hspace{-\turnstilewidth}
            \raisebox{\raiseup}
            {\makebox[\turnstilewidth]{\usebox{\second}}}
        \makever{#6}{\dashthickness}{\turnstileheight}{\ddashthickness}}}}
        \mathrel{\usebox{\turnstilebox}}}

\newcommand{\newref}[4][]{
\ifthenelse{\equal{#1}{}}{\newtheorem{h#2}[hthm]{#4}}{\newtheorem{h#2}{#4}[#1]}
\expandafter\newcommand\csname r#2\endcsname[1]{#3~\ref{#2:##1}}
\expandafter\newcommand\csname R#2\endcsname[1]{#4~\ref{#2:##1}}
\expandafter\newcommand\csname n#2\endcsname[1]{\ref{#2:##1}}
\newenvironmentx{#2}[2][1=,2=]{
\ifthenelse{\equal{##2}{}}{\begin{h#2}}{\begin{h#2}[##2]}
\ifthenelse{\equal{##1}{}}{}{\label{#2:##1}}
}{\end{h#2}}
}

\newref[section]{thm}{Theorem}{Theorem}
\newref{lem}{Lemma}{Lemma}
\newref{prop}{Proposition}{Proposition}
\newref{cor}{Corollary}{Corollary}
\newref{cond}{Condition}{Condition}
\newref{conj}{Conjecture}{Conjecture}

\theoremstyle{definition}
\newref{defn}{Definition}{Definition}
\newref{example}{Example}{Example}

\theoremstyle{remark}
\newref{rem}{Remark}{Remark}

\newcommand{\red}{\Rightarrow}
\newcommand{\deq}{\equiv}
\newcommand{\repl}{:=}
\newcommand{\idtype}{\rightsquigarrow}
\newcommand{\Id}{\mathrm{Id}}

\newcommand{\cat}[1]{\mathbf{#1}}
\newcommand{\C}{\cat{C}}
\newcommand{\Cat}{\cat{Cat}}
\newcommand{\Mod}[1]{#1\text{-}\cat{Mod}}
\newcommand{\Th}{\cat{Th}}
\newcommand{\emptyCtx}{\mathbf{1}}
\newcommand{\Set}{\cat{Set}}
\newcommand{\sSet}{\cat{sSet}}
\newcommand{\qcat}{\cat{qcat}}
\newcommand{\K}{$\mathcal{K}$}
\newcommand{\Hom}{\mathrm{Hom}}

\newcommand{\cmap}[1]{\mathrm{c}_{#1}}
\newcommand{\nf}{\mathrm{nf}}
\newcommand{\M}{H}

\newcommand{\we}{\mathcal{W}}
\newcommand{\I}{\mathrm{I}}
\newcommand{\J}{\mathrm{J}}
\newcommand{\class}[2]{#1\text{-}\mathrm{#2}}
\newcommand{\Icell}[1][\I]{\class{#1}{cell}}
\newcommand{\Icof}[1][\I]{\class{#1}{cof}}
\newcommand{\Iinj}[1][\I]{\class{#1}{inj}}
\newcommand{\Jinj}[1][]{\Iinj[\J#1]}
\newcommand{\Jcell}[1][]{\Icell[\J#1]}
\newcommand{\Jcof}[1][]{\Icof[\J#1]}

\numberwithin{figure}{section}

\newcommand{\pb}[1][dr]{\save*!/#1-1.2pc/#1:(-1,1)@^{|-}\restore}
\newcommand{\po}[1][dr]{\save*!/#1+1.2pc/#1:(1,-1)@^{|-}\restore}

\begin{document}

\title[Equivalence between quasicategories and models of type theory]{Equivalence between finitely complete quasicategories and models of simplicial homotopy type theory}

\author{Valery Isaev}

\begin{abstract}
Abstract.
\end{abstract}

\maketitle

\section{Introduction}

\section{Simplicial type theories}

In this section we define regular theory $T_\Delta$ under $coe_1$.
We prove that for every theory $T$ under $B$, the categories of models of $T$ and $T \amalg_{coe_1} T_\Delta$ are Quillen equivalent.
The advantage of theories under $T_\Delta$ is that there is a forgetful functor from the category of models of simplicial type theories to the category of simplicial categories.

Theory $T_\Delta$ is a regular theory with the following function symbols:
\begin{align*}
\Delta^n & : (ty,0) \text{, for every } n \geq 0 \\
\Delta^1_l & : (tm,0) \\
\Delta^1_r & : (tm,0) \\
\cmap{f} & : (tm,0) \to (tm,0) \text{, for every map $f$ in $\Delta$} \\
fill^n_i & : (ty,1) \times (tm,1)^n \times (tm,0) \to (tm,0) \text{, for every } n \geq 1 \text{, } 0 \leq i \leq n
\end{align*}

Theory $T_\Delta$ has the following typing axioms:
\medskip
\begin{center}
\AxiomC{$\Gamma \vdash$}
\RightLabel{, for every $n \geq 1$}
\UnaryInfC{$\Gamma \vdash \Delta^n\ type$}
\DisplayProof
\qquad
\AxiomC{$\Gamma \vdash$}
\UnaryInfC{$\Gamma \vdash \Delta^1_l : \Delta^1$}
\DisplayProof
\qquad
\AxiomC{$\Gamma \vdash$}
\UnaryInfC{$\Gamma \vdash \Delta^1_r : \Delta^1$}
\DisplayProof
\end{center}

\medskip
\begin{center}
\AxiomC{$\Gamma \vdash a : \Delta^m$}
\RightLabel{, for every $f : \Delta^m \to \Delta^n$}
\UnaryInfC{$\Gamma \vdash \cmap{f}(a) : \Delta^n$}
\DisplayProof
\end{center}

\medskip
\begin{center}
\def\extraVskip{1pt}
\Axiom$\fCenter \Gamma, x : \Delta^n \vdash A\ type$
\noLine
\UnaryInf$\fCenter \Gamma, y : \Delta^{n-1} \vdash a_j : A[x \repl \cmap{\delta^n_j}(y)] \text{, for every } 0 \leq j \leq n, j \neq i$
\noLine
\UnaryInf$\fCenter \Gamma \vdash d : \Delta^n$
\noLine
\UnaryInf$\fCenter S^n_i$
\RightLabel{, for every $0 \leq i \leq n$}
\def\extraVskip{2pt}
\UnaryInf$\fCenter \Gamma \vdash fill^n_i(x. A, y.a_0, \ldots y.a_{\hat{i}}, \ldots y.a_n, d) : A[x \repl d]$
\DisplayProof
\end{center}
\medskip
where $S^n_i$ consists of equations $\Gamma, z : \Delta^{n-2} \vdash a_j[y \repl \cmap{\delta^{n-1}_{k-1}}(z)] \deq a_k[y \repl \cmap{\delta^{n-1}_j}(z)]$
for every $0 \leq j < k \leq n$ such that $j \neq i$ and $k \neq i$.

The theory also has the following equality axioms:
\medskip
\begin{center}
\AxiomC{$\Gamma \vdash a : \Delta^n$}
\UnaryInfC{$\Gamma \vdash \cmap{id}(a) \deq a : \Delta^n$}
\DisplayProof
\end{center}

\medskip
\begin{center}
\AxiomC{$\Gamma \vdash a : \Delta^m$}
\RightLabel{, $f : \Delta^m \to \Delta^n$, $f' : \Delta^n \to \Delta^k$}
\UnaryInfC{$\Gamma \vdash \cmap{f'}(\cmap{f}(a)) \deq \cmap{f' \circ f}(a) : \Delta^k$}
\DisplayProof
\end{center}
\medskip

Finally, for every $0 \leq i \leq n$ and $f : \Delta^m \to \Delta^n$ which factors through inclusion $\Lambda^n_i \to \Delta^n$, we have the following axiom:
\medskip
\begin{center}
\def\extraVskip{1pt}
\Axiom$\fCenter \Gamma, x : \Delta^n \vdash A\ type$
\noLine
\UnaryInf$\fCenter \Gamma, y : \Delta^{n-1} \vdash a_j : A[x \repl \cmap{\delta^n_j}(y)] \text{, for every } 0 \leq j \leq n, j \neq i$
\noLine
\UnaryInf$\fCenter \Gamma \vdash d : \Delta^m$
\noLine
\UnaryInf$\fCenter S^n_i$
\def\extraVskip{2pt}
\UnaryInf$\fCenter \Gamma \vdash fill^n_i(x.A, y.a_0, \ldots y.a_{\hat{i}}, \ldots y.a_n, \cmap{f}(d)) \deq a_k[y \repl \cmap{f'}(d)] : A[x \repl \cmap{f}(d)]$
\DisplayProof
\end{center}
where $k$ and $f'$ are such that $k \neq i$, $f = \delta^n_k \circ f'$, and $k$ is the minimal such number.

There is a morphism of theories $F : I \to T_\Delta$, which is defined as follows: $F(I) = \Delta^1$, $F(left) = \Delta^1_l$, and $F(right) = \Delta^1_r$.
This morphism has a retraction $G : T_\Delta \to I$, which is defined as follows: $G(\Delta^n) = I$, $G(\Delta^1_l) = left$, $G(\Delta^1_r) = right$, $G(\cmap{f})(a) = a$,
and $G(fill^n_i)(x.A, a_0, \ldots a_{i-1}, a_{i+1}, \ldots a_n, d) = a_k[y \repl d]$, where $k = 0$ if $i > 0$ and $k = 1$ if $i = 0$.

\section{Functors between $\sSet$ and $\Mod{T}$}
\label{sec:nerve}

In this section we define a Quillen adjunction between $\sSet$ and $\Mod{T}$ for every appropriate algebraic dependent type theory $T$.
Recall that $sq_l$ is the theory with the following axioms:
\medskip
\begin{center}
\AxiomC{$\Gamma \vdash i : I$}
\AxiomC{$\Gamma \vdash j : I$}
\BinaryInfC{$\Gamma \vdash sq_l(i,j) : I$}
\DisplayProof
\end{center}
\begin{align*}
sq_l(left,j) & = left \\
sq_l(right,j) & = j \\
sq_l(i,left) & = left \\
sq_l(i,right) & = i
\end{align*}
To define functors between $\sSet$ and $\Mod{T}$, we also need to assume that $sq_l$ is associative.
Let $sq^a_l$ be the theory which has the same axioms as $sq_l$ together with the following axiom:
\[ sq_l(sq_l(i,j),k) = sq_l(i,sq_l(j,k)) \]

Let $T$ be any theory under $sq^a_l$.
For every finite nonempty linearly ordered set $J$, we define a model $\mathfrak{C}(\Delta^J)$ of $T$.
It is generated by the generators and relations described below.
Generators of $\mathfrak{C}(\Delta^J)$ are $O_j : (ty,0)$ for every $j \in J$, and $\M_{J'} : (tm,|J'|-1)$ for every subset $J'$ of $J$ such that $|J'| \geq 2$.
For every $j \in J$, $\mathfrak{C}(\Delta^J)$ has relation $\vdash O_j\ type$.
For every $J' = \{ j_1 < \ldots < j_n \} \subseteq J$ such that $n \geq 2$, it has the following relation:
\[ x : O_{j_1}, x_{j_2} : I, \ldots x_{j_{n-1}} : I \vdash \M_{J'} : O_{j_n} \]
For every $j \notin J'$ such that $j_1 < j < j_n$, it has the following relations:
\begin{align}
x : O_{j_1}, x_{j_2} : I, \ldots x_{j_{n-1}} : I & \vdash \M_{J' \cup \{j\}}[x_j \repl left] \deq \M_{\{ j, \ldots j_n \}}[x \repl \M_{\{ j_1, \ldots j \}}] \label{rel:left} \\
x : O_{j_1}, x_{j_2} : I, \ldots x_{j_{n-1}} : I & \vdash \M_{J' \cup \{j\}}[x_j \repl right] \deq \M_{J'} \label{rel:right}
\end{align}

The idea of this definition is similar to \cite[Definition~1.1.5.1]{lurie-topos}.
For every vertex $j$ of $\Delta^J$, we have a type $O_j$,
and for every $(n+1)$-dimensional face $J'$ of $\Delta^J$, we have an $n$-dimensional cube $\M_{J'}$.
Relations describe faces of these cubes.

Let $sq_l(x_1, \ldots x_n) = sq_l(x_1, \ldots sq_l(x_{n-1},x_n) \ldots )$.
In particular, $sq_l(x) = x$ and $sq_l() = right$.
Now, we can extend $\mathfrak{C}$ to a functor $\Delta \to \Mod{T}$.
Let $f : J \to K$ be a monotone map between linearly ordered sets.
Then we define $\mathfrak{C}(f)$ as follows:
\begin{align*}
\mathfrak{C}(f)(O_j) & = O_{f(j)} \\
\mathfrak{C}(f)(\M_{J'}) & =
\begin{cases}
    x                                                                  & \text{if } |f(J')| = 1 \\
    \M_{f(J')}[\ \ldots\ x_{k_i} \repl sq_l(x_{f^{-1}(k_i)})\ \ldots\ ] & \text{if } |f(J')| > 1 \\
\end{cases}
\end{align*}
where $k_i$ runs from $k_2$ to $k_{m-1}$, $\{ k_1 < \ldots < k_m \} = f(J')$,
and $x_{f^{-1}(k_i)} = x_{j_1}, \ldots x_{j_n}$, $\{ j_1 < \ldots < j_n \} = f^{-1}(k_i)$.

Let us check that $\mathfrak{C}(f)$ preserves relations.
Let $J' = \{ j_1 < \ldots < j_i < j < j_{i+1} < \ldots < j_n \}$ be a subset of $J$, and let $f'$ be the restriction of $f$ to $J'$.
If $|f(J')| = 1$, then $\mathfrak{C}(f)(\M_{J' \cup \{j\}}[x_j \repl left]) = \mathfrak{C}(f)(\M_{\{ j, \ldots j_n \}}[x \repl \M_{\{ j_1, \ldots j \}}]) = \mathfrak{C}(f)(\M_{J' \cup \{j\}}[x_j \repl right]) = \mathfrak{C}(f)(\M_{J'}) = x$.
Thus we may assume that $|f(J')| > 1$. 

Let $\rho(x_{f(j_i)}) = sq_l(x_{f'^{-1}(f(j_1))})$ for every $1 \leq i \leq n$ such that $f(j_i) \neq f(j)$.
Let us consider the first relation.
If $f(j) = f(j_1)$, then
\begin{align*}
\mathfrak{C}(f)(\M_{J' \cup \{j\}}[x_j \repl left]) & = \\
\M_{f(J')}[\rho] & = \\
\M_{\{ f(j), \ldots f(j_n) \}}[\rho][x \repl x] & = \\
\mathfrak{C}(f)(\M_{\{ j, \ldots j_n \}}[x \repl \M_{\{ j_1, \ldots j \}}]) & .
\end{align*}
If $f(j) = f(j_n)$, then
\begin{align*}
\mathfrak{C}(f)(\M_{J' \cup \{j\}}[x_j \repl left]) & = \\
\M_{f(J')}[\rho] & = \\
x[x \repl \M_{\{f(j_1), \ldots f(j)\}}[\rho]] & = \\
\mathfrak{C}(f)(\M_{\{ j, \ldots j_n \}}[x \repl \M_{\{ j_1, \ldots j \}}]) & .
\end{align*}
If $f(j_1) < f(j) < f(j_n)$, then
\begin{align*}
\mathfrak{C}(f)(\M_{J' \cup \{j\}}[x_j \repl left]) & = \\
\M_{f(J') \cup \{f(j)\}}[\rho, x_{f(j)} \repl sq_l(x_{f'^{-1}(f(j))}, x_j)][x_j \repl left] & = \\
\M_{f(J') \cup \{f(j)\}}[\rho, x_{f(j)} \repl left] & = \\
\M_{\{f(j), \ldots f(j_n)\}}[x \repl \M_{\{f(j_1), \ldots f(j)\}}][\rho] & = \\
\mathfrak{C}(f)(\M_{\{ j, \ldots j_n \}}[x \repl \M_{\{ j_1, \ldots j \}}]) & .
\end{align*}

Let us consider the second relation.
If either $f(j) = f(j_1)$ or $f(j) = f(j_n)$, then $\mathfrak{C}(f)(\M_{J' \cup \{j\}}[x_j \repl right]) = \M_{f(J')}[\rho] = \mathfrak{C}(f)(\M_{J'})$.
If $f(j_1) < f(j) < f(j_n)$, then
\begin{align*}
\mathfrak{C}(f)(\M_{J' \cup \{j\}}[x_j \repl right]) & = \\
\M_{f(J') \cup \{f(j)\}}[\rho, x_{f(j)} \repl sq_l(x_{f'^{-1}(f(j))}, x_j)][x_j \repl right] & = \\
\M_{f(J') \cup \{f(j)\}}[\rho, x_{f(j)} \repl sq_l(x_{f'^{-1}(f(j))})] & = \\
\mathfrak{C}(f)(\M_{J'}) & ,
\end{align*}
If $f(j_i) < f(j) < f(j_{i+1})$, then the last equality holds by \eqref{rel:right},
otherwise it holds immediately by definition of $\mathfrak{C}(f)(\M_{J'})$.

Let $[n]$ be the set of natural numbers $\{ 0, \ldots n \}$ with the obvious linear order.
Then $\Delta$ is the full subcategory of linearly ordered sets on objects of the form $[n]$.
It is easy to see that $\mathfrak{C}$ preserves identity morphisms,
and the fact that it preserves compositions follows from associativity of $sq_l$.
Thus we have a functor $\mathfrak{C} : \Delta \to \Mod{T}$.
This functor (uniquely) extends to a colimit-preserving functor $\mathfrak{C} : \sSet \to \Mod{T}$,
which has a right adjoint $N : \Mod{T} \to \sSet$ defined by equation $N(X) = \Hom(\mathfrak{C}(-),X)$.

We can explicitly describe $\mathfrak{C} : \sSet \to \Mod{T}$.
Model $\mathfrak{C}(X)$ is generated by symbols $O_a : (ty,0)$ for every $a \in X_0$, and $\M_a : (tm,n)$ for every $a \in X_n$, $n \geq 1$.
For every $a \in X_0$, $\mathfrak{C}(X)$ has relations $\vdash O_a\ type$ and $\M_{s_0(a)} = (x : O_a \vdash x : O_a)$.
For every $a \in X_n$, $n \geq 1$, it has the following relation:
\[ x : O_{a|\Delta^{\{0\}}}, x_1 : I, \ldots x_{n-1} : I \vdash \M_a : O_{a|\Delta^{\{n\}}} \]
For every $1 \leq j \leq n-1$, it has the following relations:
\begin{align*}
\M_a[x_j \repl left] & = \M_{a|\Delta^{\{ j, \ldots n \}}}[x \repl \M_{a|\Delta^{\{ 0, \ldots j \}}}] \\
\M_a[x_j \repl right] & = \M_{a|\Delta^{\{0, \ldots j-1, j+1, \ldots n\}}}
\end{align*}
For every $0 \leq j \leq n$, it has the following relation:
\[ \M_{s_j(a)} =
\begin{cases}
    \M_a[x_1 \repl x_2, \ldots x_{n-1} \repl x_n]                                      & \text{if } j = 0 \\
    \M_a[x_j \repl sq_l(x_j,x_{j+1}), x_{j+1} \repl x_{j+2}, \ldots x_{n-1} \repl x_n] & \text{if } 1 \leq j \leq n-1 \\
    \M_a                                                                               & \text{if } j = n \\
\end{cases}
\]
For every morphism $f : X \to Y$ of simplicial sets, let $\mathfrak{C}(f)(O_a) = O_{f(a)}$ and $\mathfrak{C}(f)(\M_a) = \M_{f(a)}$.
It is easy to see that this definition preserves relations, identity morphisms and compositions.

\begin{prop}
Functors $\mathfrak{C} \dashv N$ determine a Quillen adjunction between $\sSet$ with the Joyal model structure and $\Mod{T}$ with the model structure defined in \cite{alg-models}.
\end{prop}
\begin{proof}
Note that $\mathfrak{C}(\partial \Delta^n)$ is isomorphic (over $\mathfrak{C}(\Delta^n)$) to the theory
generated by the same generators and relations as $\mathfrak{C}(\Delta^n)$ except for $\M_{[n]}$.
Similarly, if $i \in [n]$, then $\mathfrak{C}(\Lambda^n_i)$ is generated by the same generators
and relations as $\mathfrak{C}(\partial \Delta^n)$ except for $\M_{\{ 0, \ldots i-1, i+1, \ldots n \}}$.

Let us prove that $\mathfrak{C}$ preserves cofibration.
To do this, it is enough to show that $\mathfrak{C}(\partial \Delta^n) \to \mathfrak{C}(\Delta^n)$ is a cofibration for every $n$.
If $n = 0$, then this map equals to $i_{(ty,0)}$.
Suppose that $n > 0$.
First, let us define objects $\square^k$ and $\partial \square^k$.
Let $\square^k = F(\{ x : A, x_1 : I, \ldots x_k : I \vdash b : B \})$,
and let $\partial \square^k$ be generated by the generators and relations described below.
Generators of $\partial \square^k$ are $A,B : (ty,0)$ and $b_{[i=c]} : (tm,k)$ for every $1 \leq i \leq k$, $c \in \{left,right\}$.
For every $1 \leq i \leq k$ and $c \in \{left,right\}$, it has the following relation:
\[ x : A, x_1 : I, \ldots x_{i-1} : I, x_{i+1} : I, \ldots x_k : I \vdash b_{[i=c]} : B \]
For every $1 \leq i_1 < i_2 \leq k$ and $c,c' \in \{left,right\}$, it has the following relation:
\[ b_{[i_2=c']}[x_{i_1} \repl c] = b_{[i_1=c]}[x_{i_2} \repl c'] \]

Map $i^k : \partial \square^k \to \square^k$ is defined in the obvious way: $i^k(b_{[i=c]}) = b[x_i \repl c]$.
Let $v : \square^{n-1} \to \mathfrak{C}(\Delta^n)$ be defined as follows: $v(A) = O_0$, $v(B) = O_n$, $v(b) = \M_{[n]}$.
Map $v \circ i^k$ factors through $\mathfrak{C}(\partial \Delta^n) \to \mathfrak{C}(\Delta^n)$, and the following square is cocartesian:
\[ \xymatrix{ \partial \square^{n-1} \ar[r] \ar[d]_{i^k} & \mathfrak{C}(\partial \Delta^n) \ar[d] \\
              \square^{n-1} \ar[r]_v & \mathfrak{C}(\Delta^n)
            } \]
Thus we just need to show that $i^k$ is a cofibration.
But it is a pushout of $i_{(tm,1)} : F(\{ x : A \vdash B\ type \}) \to F(\{ x : A \vdash b : B \})$.
Indeed, let $v' : F(\{ x : A \vdash b : B \}) \to \square^k$ be defined as follows: $v'(b) = path(x_1.\,\ldots path(x_n.\,b) \ldots)$ and $v'(B)$ equals to
\begin{align*}
Path(x_1.\, \ldots Path(x_{n-2}.\, & Path(x_{n-1}.\,     Path(x_n.\,B, b[x_n \repl left], b[x_n \repl right]), \\
                                   & \qquad \qquad \quad path(x_n.\,b[x_{n-1} \repl left]), \\
                                   & \qquad \qquad \quad path(x_n.\,b[x_{n-1} \repl right])), \\
                                   & path(x_{n-1}.\,     path(x_n.\,b[x_{n-2} \repl left])), \\
                                   & path(x_{n-1}.\,     path(x_n.\,b[x_{n-2} \repl right]))) \ldots )
\end{align*}
Then $v' \circ i_{(tm,1)}$ factors through $i^k$, and the following square is cocartesian:
\[ \xymatrix{ F(\{ x : A \vdash B\ type \}) \ar[r] \ar[d]_{i_{(tm,1)}} & \partial \square^k \ar[d]^{i^k} \\
              F(\{ x : A \vdash b : B \}) \ar[r]_-{v'} & \square^k
            } \]

Now, let us prove that for every $X \in \Mod{T}$, $N(X)$ is fibrant.
Since fibrant objects in $\sSet$ are precisely quasicategories,
it is enough to show that $\mathfrak{C}(\Lambda^n_i) \to \mathfrak{C}(\Delta^n)$ is a trivial cofibration for every inner horn $\Lambda^n_i \to \Delta^n$.
First, for every $1 \leq i \leq k$, let $\sqcap^k_i$ be the object defined by the same generators and relations as $\partial \square^k$ except for $b_{[i=right]}$.
Then we have the following cocartesian square:
\[ \xymatrix{ \sqcap^{n-1}_i \ar[r] \ar[d] & \mathfrak{C}(\Lambda^n_i) \ar[d] \\
              \partial \square^{n-1} \ar[r] & \mathfrak{C}(\partial \Delta^n)
            } \]

Since $\sqcap^k_i \to \square^k$ is a cofibration, we just need to show that it is a weak equivalence.
Note that $\sqcap^k_i \to \square^k$ is isomorphic to $\sqcap^k_k \to \square^k$ for every $1 \leq i \leq k$.
Indeed, we can define isomorphism $g : \square^k \to \square^k$ as $g(b) = b[x_i \repl x_k, x_k \repl x_i]$
and isomorphism $f : \sqcap^k_i \to \sqcap^k_k$ as $f(b_{[i=left]}) = b_{[k=left]}[x_i \repl x_k]$, $f(b_{[k=c]}) = b_{[i=c]}[x_k \repl x_i]$,
and $f(b_{[j=c]}) = b_{[j=c]}[x_i \repl x_k, x_k \repl x_i]$ for every $j \neq i,k$.
Then $f$ and $g$ commute with $\sqcap^k_i \to \square^k$ and $\sqcap^k_k \to \square^k$.
Thus we just need to prove that $\sqcap^k_k \to \square^k$ is a weak equivalence.

Note that $\square^{k+1}$ is a (relative) cylinder object for $F(\{ A : (ty,0), B : (ty,0) \}) \to \square^k$.
Indeed, $\square^k \amalg_{F(\{ A : (ty,0), B : (ty,0) \})} \square^k \to \square^{k+1}$ is a cofibration,
and $\square^k \to \square^{k+1}$ is a weak equivalence since it is a pushout of
a generating trivial cofibration $F(\{ \Gamma \vdash b : B \}) \to F(\{ \Gamma, y : I \vdash h : B \})$.

Every object has RLP with respect to $\sqcap^k_k \to \square^k$ (see \cite[Section~2.4]{alg-models}).
In particular, $\sqcap^k_k \to \square^k$ has a retract $\square^k \to \sqcap^k_k$.
The composite map $\square^k \to \sqcap^k_k \to \square^k$ is homotopic to $id$.
To show this, we just need to construct an appropriate map $\square^{k+1} \to \square^k$,
which is easy to do using filler operations from \cite[Section~2.4]{alg-models}.
Thus $\sqcap^k_k \to \square^k$ is a homotopy equivalence.

Finally, let us prove that if $f : X \to Y$ is a fibration in $\Mod{T}$, then $N(f)$ is a fibration in $\sSet$.
Since $N(Y)$ is fibrant, by \cite[Corollary~2.4.6.5]{lurie-topos}, we just need to prove the following conditions:
\begin{enumerate}
\item $N(f)$ is an inner fibration.
\item For every object $A$ of $N(X)$ and every equivalence $p : N(f)(A) \to B$ in $N(Y)$, there exists an equivalence $p' : A \to B'$ in $N(X)$ such that $N(f)(p') = p$.
\end{enumerate}
The first condition follows from the fact that maps $\mathfrak{C}(\Lambda^n_i) \to \mathfrak{C}(\Delta^n)$ are trivial cofibrations.
The second condition can be reformulated as follows: for every closed type $A$ of $X$ and every equivalence $p : f(A) \to B$ in $Y$,
there exists an equivalence $p' : A \to B'$ in $X$ such that $f(p') = p$.
But this follows from the fact that $f$ has RLP with respect to $\J_{\I_{ty}}$.
\end{proof}

\section{Slice quasicategories}

Let $T$ be a stable theory with $\Sigma$-types with eta rules.
Then for every model $M$ of $T$ and every $A \in M_{(ty,0)}$, we can define another model $M/A$ of $T$.
Let $(M/A)_{(p,n)} = \{ x \in M_{(p,n+1)}\ |\ ft^n(x) = A \}$.
Since $T$ is stable, the structure of a model of $T$ on $M$ induces this structure on $M/A$.
In this section we construct a categorical equivalence $p : N(M/A) \to N(M)/A$ between the nerve of $M/A$ and the slice quasicategory of $N(M)$ over $A$.

Let $C$ be a quasicategory, and let $A \in C_{[0]}$ be an object of $C$.
Then $C/A$ is the quasicategory defined as follows: $(C/A)_{[n]} = \{ x \in C_{[n+1]}\ |\ x|_{\Delta^{\{n+1\}}} = A \}$.
For every monotone map $f : [k] \to [n]$, let $(C/A)_f(x) = C_{f'}(x)$, where $f' : [k+1] \to [n+1]$ is the map such that $f'(k) = n$ and $f'(i) = f(i)$ for every $0 \leq i \leq k$.
For a proof that this simplicial set is a quasicategory, see for instance \cite[Proposition~1.2.9.3]{lurie-topos}.

Elements of $N(M)_{[n]}$ can be represented by pairs $(O,H)$, where $O$ is a function that maps elements of $[n]$ to $N(M)_{(ty,0)}$
and $H$ is a function that maps a subset $J = \{ j_1 < \ldots < j_k \}$ of $[n]$ such that $k \geq 2$ to a term of the form $x : O_{j_1}, x_{j_2} : I, \ldots x_{j_{k-1}} : I \vdash H_J : O_{j_k}$.
These functions must satisfy relations described in the previous section.
Let $(O,H)$ be an element of $N(M/A)_{[n]}$.
Then $O_i \in M_{(ty,1)}$ is such that $z : A \vdash O_i\ type$ and $H_J$ can be identified with an element of $M_{(tm,k)}$ such that $z : A, x : O_{j_1}, x_{j_2} : I, \ldots x_{j_{k-1}} : I \vdash H_J : O_{j_k}$.
To define an element $p(O,H) \in (N(M)/A)_{[n]}$, we need to specify functions $O'$ and $H'$ as described above.
Let $O'_{n+1}$ be equal to $x : A \vdash x : A$, and let $O'_i$ be equal to $x : \Sigma(z : A)\,O_i \vdash \pi_1(x) : A$.
If $J = \{ j_1 < \ldots < j_k \}$ and $j_k \leq n$, then we define $H'_J$ as follows:
\[ x : \Sigma (z : A)\,O_{j_1}, x_{j_2} : I, \ldots x_{j_{k-1}} : I \vdash (\pi_1(x), H_J[z \repl \pi_1(x), x \repl \pi_2(x)]) : \Sigma (z : A)\,O_{j_k} \]
If $J = \{ j_1 < \ldots < j_k \}$ and $j_k = n+1$, then we define $H'_J$ as follows:
\[ x : \Sigma (z : A)\,O_{j_1}, x_{j_2} : I, \ldots x_{j_{k-1}} : I \vdash \pi_1(x) : A \]
It is easy to see that $p$ respects face maps and, since the theory has eta rules for $\Sigma$-types, $p$ respects degeneracy maps too.
Thus, we defined a map $p : N(M/A) \to N(M)/A$.

\begin{prop}
The map $p : N(M/A) \to N(M)/A$ is a categorical equivalence.
\end{prop}
\begin{proof}
Since $N(M/A)$ and $N(M)/A$ are quasicategories, \cite[Proposition~3.5]{f-model-structures} implies that to prove that $p$ is a categorical equivalence,
we just need to show that for every $n \in \mathbb{N}$ and every commutative square of the form
\[ \xymatrix{ \partial \Delta^n \ar[r]^-f \ar[d] & N(M/A) \ar[d]^p \\
              \Delta^n \ar[r]_-g                 & N(M)/A,
            } \]
there is a map $g' : \Delta^n \to N(M/A)$ such that the top triangle commutes and the bottom triangle commutes up to relative homotopy.
Maps $g,g' : \Delta^0 \to X$ are (relatively) homotopic if the objects of $X$ represented by these maps are equivalent.
If $n > 0$, then maps $g,g' : \Delta^n \to X$ are relatively homotopic if there is a map $h : \Delta^{n+1} \to X$
such that $\delta_0(h) = g$, $\delta_0(h) = f$, and $\delta_i(h) = \sigma_0(\delta_{i-1}(f))$ for every $2 \leq i \leq n+1$.

Let us prove that for every object $s$ of $N(M)/A$, there is an object $s'$ of $N(M/A)$ such that $p(s')$ is equivalent to $s$.
An object of $N(M)/A$ is a 1-simplex $s$ of $N(M)$ such that $s|_{\Delta^{\{1\}}} = A$.
Thus, it is just a term of the form $y : C \vdash a : A$.
Let $B$ be the object of $N(M/A)$ defined as $x : A \vdash \Sigma (y : C)\,(a \idtype x)$.
It is an easy exercise to prove that $\Sigma (x : A)\,\Sigma (y : C)\,(a \idtype x)$ and $C$ are homotopy equivalent over $A$.
It follows that $p(B)$ is equivalent to $a$.

Let $f : \partial \Delta^n \to N(M/A)$ and $g = (O,H) : \Delta^n \to N(M)/A$ be maps such that $n > 0$ and the square above commutes.
Then $x : \Sigma (z : A)\,O_0, x_1 : I, \ldots x_n : I \vdash H_{[n+1]} : A$ and
$x : \Sigma (z : A)\,O_0, x_1 : I, \ldots x_{n-1} : I \vdash H_{[n]} : \Sigma (z : A)\,O_n$.
To extend $f$ to a map $\Delta^n \to N(M/A)$, we need to define a term $z : A, x : O_0, x_1 : I, \ldots x_{n-1} : I \vdash h' : O_n$
in such a way that relations \eqref{rel:left} and \eqref{rel:right} hold.
Let $h' = coe_0(x_n.\,O_n[z \repl H_{[n+1]}], \pi_2(H_{[n]}))[x \repl (z,x)]$.
Note that $H_{[n+1]}[x_j \repl c] = \pi_1(x)$ for every $1 \leq j \leq n$ and every $c \in \{ left, right \}$.
By $\sigma$-rule, $h'[x_j \repl c] = \pi_2((H_{[n]}[x \repl (z,x), x_j \repl c]))$.
Thus, the relations for $h'$ hold since they hold for $H_{[n]}$.

Let $g' : \Delta^n \to N(M/A)$ be the map corresponding to $h'$.
We need to prove that $p \circ g'$ is relatively homotopic to $g$.
That is, we need to find a map $T : \Delta^{n+2} \to N(M)$ such that $\delta_0(T) = g$, $\delta_1(T) = p \circ g'$,
and $\delta_i(T) = \sigma_0(\delta_{i-1}(g))$ for every $2 \leq i \leq n+1$.
Since all of the faces except the last one are fixed, we just need to specify a term $x : \Sigma (z : A)\,O_0, x_1 : I, \ldots x_n : I \vdash T_{[n+1]} : \Sigma (z : A)\,O_{n+1}$
corresponding to the last face and a term $x : \Sigma (z : A)\,O_0, x_1 : I, \ldots x_{n+1} : I \vdash T_{[n+2]} : A$ corresponding to the interior of the simplex $T$.

We define $T_{[n+1]}$ as $(H_{[n+1]}, coe_1(x_n.O_n[z \repl \pi_1(H_{[n]})], \pi_2(H_{[n]}), x_n))\rho$, where $\rho = [x_1 \repl x_2, \ldots x_{n-1} \repl x_n, x_n \repl x_1]$.
Let $T_{[n+2]} = H_{[n+1]}[x_1 \repl x_2, \ldots x_{n-1} \repl x_n, x_n \repl sq_r(x_1, x_{n+1})]$,
where $sq_r$ is a function such that $sq_r(i,right) = right$, $sq_r(right,j) = right$, $sq_r(i,left) = i$, and $sq_r(left,j) = j$.
It is easy to see that relations \eqref{rel:left} and \eqref{rel:right} hold.
Thus, $T$ determines a homotopy between $g$ and $p \circ g'$.
\end{proof}

The previous proposition shows that stable theories are stable under slicing.
That is if we can prove that, for every model $M$ of a stable theory, the quasicategory $N(M)$ has some property,
then this property holds for every slice quasicategory $N(M)/A$.
For example, if we can prove that $N(M)$ has all finite products, then it also has all finite limits.

\begin{prop}
For every model $M$ of a stable theory with $\Sigma$-types with eta rules, the quasicategory $N(M)$ is finitely complete.
\end{prop}
\begin{proof}
We just need to prove that $N(M)$ has all finite products.
\end{proof}

\section{Simplicial categories corresponding to a model}

In this section we construct two simplicial categories $C_R(M)$ and $L(M)$ corresponding to a model $M$ of a dependent type theory $T$.
We prove that they are equivalent to each other and to the simplicial localization of $M$ as a category with weak equivalences.
We will use the following notation in this section: $N : \Cat \to \sSet$ is the ordinary nerve functor,
$N_\Delta : \Cat_\Delta \to \sSet$ and $\mathfrak{C}_\Delta : \sSet \to \Cat_\Delta$ are the homotopy coherent nerve functor and its left adjoint defined in \cite{lurie-topos},
and $N_T : \Mod{T} \to \sSet$ and $\mathfrak{C}_T : \sSet \to \Mod{T}$ are the nerve functor and its left adjoint constructed in section~\ref{sec:nerve}.

\subsection{Space of right morphisms}

For every quasicategory $C$ and every pair of objects $X$ and $Y$ of $C$, there is a Kan complex $Hom^R_C(X,Y)$ of right morphisms from $X$ to $Y$.
The set $Hom^R_C(X,Y)_{[n]}$ is defined as the set of simplices $s \in C_{[n+1]}$ such that $s|_{\Delta^{\{n+1\}}} = Y$ and $s|_{\Delta^{\{0, \ldots n\}}}$ is a constant simplex at $X$.
The fact that this simplicial set is a Kan complex is proved in \cite[Proposition~1.2.2.3]{lurie-topos}.

If $C$ is an arbitrary quasicategory, then there is no natural composition map $Hom^R_C(Y,Z) \times Hom^R_C(X,Y) \to Hom^R_C(X,Z)$.
But if $C = N_T(M)$, then there is such a map and it is associative and unital.
Let $(O^1,H^1) \in N_T(M)_{[n+1]}$ and $(O^2,H^2) \in N_T(M)_{[n+1]}$ be functions that represent simplices in $Hom^R_{N_T(M)}(Y,Z)$ and $Hom^R_{N_T(M)}(X,Y)$, respectively.
Then we define functions $(O,H) \in N_T(M)_{[n+1]}$ representing a simplex in $Hom^R_{N_T(M)}(X,Z)$.
There is a unique way to define $O$: $O_{n+1} = Z$ and $O_i = X$ for every $0 \leq i \leq n$.
For every $J = \{ j_1 < \ldots < j_k \} \subseteq [n+1]$, let $x : X, x_{j_2} : I, \ldots x_{j_{k-1}} : I \vdash H_J : Z$ be the term defined as $H^1_J[y \repl H^2_J]$.
It is easy to see that relation~\eqref{rel:right} holds.
Let us verify relation~\eqref{rel:left}:
\begin{align*}
H_{J \cup \{j\}}[x_j \repl left] & = \\
H^1_{J \cup \{j\}}[x_j \repl left][y \repl H^2_{J \cup \{j\}}[x_j \repl left]] & = \\
H^1_{\{j < \ldots < j_k\}}[x \repl H^1_{\{j_1 < \ldots < j\}}][y \repl H^2_{\{j < \ldots j_k\}}[x \repl H^2_{\{j_1 < \ldots < j\}}]] & = \\
H^1_{\{j < \ldots < j_k\}}[y \repl H^2_{\{j < \ldots j_k\}}] & = \\
H^1_{\{j < \ldots < j_k\}}[y \repl H^2_{\{j < \ldots < j_k\}}][x \repl H^1_{\{j_1 < \ldots j\}}[y \repl H^2_{\{j_1 < \ldots j\}}]] & = \\
H_{\{j < \ldots < j_k\}}[x \repl H_{\{j_1 < \ldots j\}}] & ,
\end{align*}
where $H^1_{\{j_1 < \ldots < j\}} = y$ and $H^2_{\{j_1 < \ldots < j\}} = x$ by assumption that $H^i$ represent simplices that are constant on the left face.
It is easy to see that $H$ also satisfies this assumption and that this function respects the face and degeneracy maps.
Thus, we have defined a map of simplicial sets $Hom^R_{N_T(M)}(Y,Z) \times Hom^R_{N_T(M)}(X,Y) \to Hom^R_{N_T(M)}(X,Z)$.
The fact that it is associative and unital follows from the fact that these properties hold for the substitution operation.

Thus, we have a fibrant simplicial category, which we denote by $C_R(M)$.

\subsection{Simplicial localization of a model}

Every model $M$ of a theory $T$ with $\Id$-types and $\Sigma$-types has the underlying fibration category $C(M)$ (see \cite{tt-fibr-cat}).
In particular, $C(M)$ is a category with weak equivalences.
In this section we prove that the homotopy coherent nerve of the simplicial localization of $C(M)$ is categorically equivalent to the quasicategory $N_T(M)$.

For every model $M$ of a theory with $\Id$-types, we define a simplicial category $L(M)$ which is weakly equivalent to $L^H C(M)$,
the usual hammock localization of $C(M)$, defined in \cite{Dwyer1980}.
First, let us define a $\Cat$-enriched category $L_C(M)$.
Its objects are contexts of $M$, that is elements of $\coprod_{n \in \mathbb{N}} M_{(ctx,n)}$.
If $\Gamma$ and $\Delta$ are contexts of $M$, then objects of $Hom(\Gamma,\Delta)$ are spans of the following form:
\[ \xymatrix{        & \Gamma' \ar[ld] \ar[rd] & \\
              \Gamma &                         & \Delta
            } \]
where the right map is any context morphism and the left map is a trivial fibration, that is, $\Gamma' = (\Gamma, x_1 : A_1, \ldots x_n : A_n)$
and the map $\Gamma' \to \Gamma$ is a weak equivalence in $C(M)$.
We will denote such a span by $(\Gamma',p,f)$, where $p : \Gamma' \to \Gamma$ and $f : \Gamma' \to \Delta$.

Morphisms between two such spans $(\Gamma_1,p_1,f_1)$ and $(\Gamma_2,p_2,f_2)$ are maps $g : E_1 \to E_2$ such that $p_2 \circ g = p_1$ and $f_2 \circ g = f_1$.
The identity morphisms and compositions are defined in the obvious way.
This construction of $Hom(\Gamma,\Delta)$ appears in \cite{cis10b} and \cite{Nikolaus2015}.
The canonical inclusion $N(Hom(\Gamma,\Delta)) \to L^H C(M)(\Gamma,\Delta)$ is a weak equivalence.
This is proved in \cite[Proposition~3.23]{cis10b} and \cite[Theorem~3.61]{Nikolaus2015}.

This construction of $L_C(M)$ works for any fibration category, but gives us only a bicategory.
If $M$ is a model of a type theory, then we can show that it is actually a strict 2-category.
The identity morphism is $(\Gamma,id_\Gamma,id_\Gamma)$.
The composition $\circ : Hom(\Delta,E) \times Hom(\Gamma,\Delta) \to Hom(\Gamma,E)$ is defined as follows:
if $(\Gamma',p_1,f_1)$ is an object of $Hom(\Gamma,\Delta)$ and $(\Delta',p_2,f_2)$ is an object of $Hom(\Delta,E)$,
then let $(\Delta',p_2,f_2) \circ (\Gamma,p_1,f_1)$ be the following pullback:
\[ \xymatrix{        &                                     & f_1^*(\Delta') \ar[dl] \ar[dr] &                                     & \\
                     & \Gamma' \ar[dl]_{p_1} \ar[dr]^{f_1} &                                & \Delta' \ar[dl]_{p_2} \ar[dr]^{f_2} & \\
              \Gamma &                                     & \Delta                         &                                     & E
            } \]
The composition is defined in the obvious way on morphisms.
Since pullbacks in models of type theories are strictly associative, this composition functor is also associative.
Analogously, the identity morphism is a strict unit for the composition.

Let $L(M)$ be the simplicial category obtained from $L_C(M)$ by appyling the nerve functor to $Hom$-categories.
Then there is a functor $L^H C(M) \to L(M)$.
This functor is defined as the identity function on objects.
If $\Gamma$ and $\Delta$ are two objects, then 0-simplices of $L^H C(M)(\Gamma,\Delta)$ are reduced diagrams of the form
$\Gamma \xleftarrow{p_1} \Gamma_1' \xrightarrow{f_1} \Gamma_2 \xleftarrow{p_2} \ldots \xrightarrow{f_{n-1}} \Gamma_n \xleftarrow{p_n} \Gamma_n' \xrightarrow{f_n} \Delta$,
where $p_i$ are trivial fibrations.
Such a diagram is reduced if all the maps in it are not identity morphisms except possibly $p_1$ and $f_n$.
For every such diagram, we define an object of $Hom(\Gamma,\Delta)$ as $(\Gamma_n',p_n,f_n) \circ \ldots \circ (\Gamma_1',p_1,f_1)$.
Morphisms of such diagrams are 1-simplices of $L^H C(M)(\Gamma,\Delta)$.
Every such morphism induces a morphism in $Hom(\Gamma,\Delta)$ between the corresponding objects.
Finally, $n$-simplices of $L^H C(M)(\Gamma,\Delta)$ are sequences of such morphisms of length $n$.
Every such sequence induces a sequence of morphisms in $Hom(\Gamma,\Delta)$.
Since such sequences correspond to simplices in $L(M)$, we obtain a map $L^H C(M)(\Gamma,\Delta) \to L(M)(\Gamma,\Delta)$.
It is easy to see that this defines a functor $L^H C(M) \to L(M)$.

The functor $L^H C(M) \to L(M)$ acts as the identity function on objects and, for every pair of objects $\Gamma$ and $\Delta$,
the map $L^H C(M)(\Gamma,\Delta) \to L(M)(\Gamma,\Delta)$ is a retraction of the canonical inclusion $L(M)(\Gamma,\Delta) \to L^H C(M)(\Gamma,\Delta)$.
In particular, it is a weak equivalence.
It follows that the functor $L^H C(M) \to L(M)$ is a weak equivalence of simplicial categories.

\bibliographystyle{amsplain}
\bibliography{ref}

\end{document}
